const MineTm={pageLoadHref:window.location.href,isMobile:/iPhone/i.test(navigator.userAgent),getTmExtensionInfo:(e="")=>({fileUrl:`https://pepperpotts.fly.dev/tm${e?`-${e}`:""}.auto.min.js`,fileCacheKey:`mine_cached_tm${e?`-${e}`:""}_js`}),updateAllTmExtensions:async()=>{await Promise.all(["","phonecall","commandbar","commandbarmobile"].map(async e=>{const{fileUrl:n,fileCacheKey:t}=MineTm.getTmExtensionInfo(e),a=await fetch(n).then(e=>e.text());localStorage.setItem(t,a)})),MineTm.Mine?.toast("ðŸ”„ Extensions updated (for reload)")},iciLite:(e,n)=>{const t=document.createElement("style");return n&&(t.id=n),t.textContent=e,document.head.appendChild(t),()=>t.remove()},hideSidebarTemporarilyAsync:async()=>MineTm.iciLite('\n[data-element-id="nav-container"] {display:none !important;}\n.z-30, .lg\\:pl-0 {padding-left: 0 !important;}\n[data-element-id="main-content-area"] {padding-left: 0 !important;}\ntextarea::placeholder {color: transparent !important;}\n',"mine_loader_styler")};MineTm.iciLite('\n[data-element-id="chat-space-end-part"] {\n  opacity: 0;\n  transition: opacity 0.25s;\n}\n\n\n\ntextarea:not([placeholder^="Message"])::placeholder {\n  color: transparent !important;\n}\n'),(async()=>{MineTm.hideSidebarTemporarilyAsync(),(async()=>{MineTm.fsQssToMakeInvisible=['.hide-when-print:has([data-element-id="chat-space-beginning-part"])',"#elements-in-action-buttons",'[data-element-id="pinned-characters-container"]>div:first-child','div:has(>[data-element-id="more-actions-menu-button"])'],MineTm.fsQssToMakeInvisibleAndUndisplay=['.hide-when-print button:has([d="M8.99999 13.5C8.80799 13.5 8.61599 13.4271 8.46999 13.2801L2.21999 7.03005C1.92699 6.73705 1.92699 6.26202 2.21999 5.96902C2.51299 5.67602 2.98799 5.67602 3.28099 5.96902L9.00099 11.689L14.721 5.96902C15.014 5.67602 15.489 5.67602 15.782 5.96902C16.075 6.26202 16.075 6.73705 15.782 7.03005L9.53199 13.2801C9.38599 13.4261 9.19399 13.5 9.00199 13.5H8.99999Z"])',"div:has(>#elements-in-action-buttons)",'[id^="message-timestamp-"]',".mine_notes_wrapper:has(.mine_notes:placeholder-shown:not(:focus))"].filter(Boolean),MineTm.fsOtherCss='\n[data-element-id="chat-input-actions"] {max-height:0;overflow: hidden;padding-bottom:0;padding-top:0;}\n'.trim();const e=`\n${MineTm.fsQssToMakeInvisible.map(e=>`${e}`).join(",\n")} {visibility:hidden;}\n${MineTm.fsQssToMakeInvisibleAndUndisplay.map(e=>`${e}`).join(",\n")} {display:none;}\n${MineTm.fsOtherCss}\n[data-element-id="chat-input-actions"] {display:none;}\n`,n=MineTm.iciLite(e);setTimeout(n,1e3)})();const e=async(e="")=>{const{fileUrl:n,fileCacheKey:t}=MineTm.getTmExtensionInfo(e);let a=localStorage.getItem(t);const i=!a;i&&(a=await fetch(n).then(e=>e.text()),localStorage.setItem(t,a),alert("busted cache for (likely new) extension loading"));const o=document.createElement("script");o.text=a,o.setAttribute("data-mine","true"),document.head.appendChild(o),i||fetch(n).then(e=>e.text()).then(n=>{n!==a&&(localStorage.setItem(t,n),MineTm.Mine?.toast(`ðŸ†• Updated ext. "${e||"TM"}"`))})};await e(""),(async()=>{e("phonecall"),e("commandbar")})().then()})();